# Практическая работа: Создание Telegram бота с CI pipeline

## Цель работы
Создать мини-проект Telegram бота для записи клиентов в базу данных на Java и написать CI pipeline, который автоматически тестирует и запускает бота.

## Требования к проекту

### [ ] 1. Создание репозитория
- [ ] Создать новый репозиторий на GitHub
- [ ] Добавить README.md с описанием проекта
- [ ] Создать .gitignore для Java проекта
- [ ] Выбрать лицензию (MIT)

### [ ] 2. Создание структуры Java проекта
- [ ] Создать основную директорию src/
- [ ] Создать пакет com.bot.clients
- [ ] Создать классы:
  - [ ] Client.java (модель клиента)
  - [ ] DatabaseManager.java (работа с базой данных)
  - [ ] TelegramBot.java (основной класс бота)
  - [ ] BotConfig.java (конфигурация бота)

### [ ] 3. Реализация модели данных
- [ ] Создать класс Client с полями:
  - [ ] id (Long)
  - [ ] name (String)
  - [ ] phone (String)
  - [ ] email (String)
  - [ ] registrationDate (LocalDateTime)
- [ ] Реализовать конструкторы и геттеры/сеттеры
- [ ] Добавить toString() метод

### [ ] 4. Реализация работы с базой данных
- [ ] Создать класс DatabaseManager
- [ ] Реализовать методы:
  - [ ] connectToDatabase() - подключение к SQLite
  - [ ] createTable() - создание таблицы клиентов
  - [ ] addClient(Client client) - добавление клиента
  - [ ] getAllClients() - получение всех клиентов
  - [ ] closeConnection() - закрытие соединения

### [ ] 5. Создание Telegram бота
- [ ] Создать класс TelegramBot
- [ ] Реализовать команды:
  - [ ] /start - приветствие
  - [ ] /help - помощь
  - [ ] /add - добавить клиента
  - [ ] /list - показать всех клиентов
- [ ] Настроить обработку сообщений
- [ ] Интегрировать с DatabaseManager

### [ ] 6. Создание конфигурации
- [ ] Создать класс BotConfig
- [ ] Добавить поля:
  - [ ] botToken (String)
  - [ ] botUsername (String)
- [ ] Реализовать методы для получения конфигурации

### [ ] 7. Создание CI pipeline
- [ ] Создать директорию .github/workflows/
- [ ] Создать файл ci-pipeline.yml

### [ ] 8. Реализация CI pipeline
- [ ] Настроить запуск на push в ветку main
- [ ] Добавить шаги:
  - [ ] Checkout кода
  - [ ] Установка JDK 11
  - [ ] Сборка проекта (mvn compile или javac)
  - [ ] Запуск бота в фоновом режиме
  - [ ] Отправка тестового сообщения боту
  - [ ] Ожидание 10 секунд
  - [ ] Завершение всех процессов

### [ ] 9. Тестирование pipeline
- [ ] Запушить изменения в репозиторий
- [ ] Проверить запуск workflow в разделе Actions
- [ ] Убедиться, что все шаги выполняются успешно
- [ ] Проверить, что бот запускается и завершается корректно

### [ ] 10. Документирование
- [ ] Обновить README.md с инструкцией по запуску
- [ ] Добавить описание CI pipeline
- [ ] Указать зависимости и требования

## Технические требования

### Java проект
- [ ] Использовать Java 11
- [ ] Использовать SQLite для хранения данных
- [ ] Использовать Telegram Bot API
- [ ] Проект должен компилироваться без ошибок

### CI pipeline
- [ ] Использовать GitHub Actions
- [ ] Pipeline должен выполняться за 5-10 минут
- [ ] Все процессы должны корректно завершаться
- [ ] Должна быть обработка ошибок

## Критерии оценки

### [ ] Базовые требования (обязательные)
- [ ] Репозиторий создан и настроен
- [ ] Java проект компилируется
- [ ] База данных работает
- [ ] Telegram бот отвечает на команды
- [ ] CI pipeline запускается

### [ ] Дополнительные требования
- [ ] Код соответствует Java код-стайлу
- [ ] Добавлены комментарии к основным методам
- [ ] Реализована обработка ошибок
- [ ] CI pipeline имеет все необходимые шаги
- [ ] Pipeline завершается успешно

### [ ] Экстра требования (по желанию)
- [ ] Добавлены unit-тесты
- [ ] Реализована валидация данных
- [ ] Добавлена логика рассылки сообщений
- [ ] Pipeline имеет несколько jobs
- [ ] Добавлены уведомления о результатах pipeline

## Сроки выполнения
- [ ] Начало: [дата]
- [ ] Сдача: [дата]

## Примечания
- [ ] Все изменения должны фиксироваться в Git
- [ ] Использовать meaningful commit messages
- [ ] Следовать best practices GitHub Actions
- [ ] Документировать все изменения в README.md
